/*==============================================================================*/
/* Step Map Judgement C File							*/
/*==============================================================================*/

/*------------------------------------------------------------------------------*/
/* Include Files								*/
/*------------------------------------------------------------------------------*/
#include "maze_data.h"
#include "step_map_judgement.h"

/*------------------------------------------------------------------------------*/
/* Defines									*/
/*------------------------------------------------------------------------------*/

/* 判定情報 */
#define UNDEFINED	(0xff)	// 未定義の場合の値(255)

/*------------------------------------------------------------------------------*/
/* Global Variable								*/
/*------------------------------------------------------------------------------*/
unsigned int step_map[MAZESIZE_X][MAZESIZE_Y];		// 歩数マップ用の配列

/*------------------------------------------------------------------------------*/
/* Function Definitions								*/
/*------------------------------------------------------------------------------*/

/*==============================================================================*/
/* 歩数マップの作成			                                        */
/* 										*/
/* 座標X,Yをゴールとした歩数マップを作成する					*/
/* ---------------------------------------------------------------------------- */
/*  Arguments:		-		       					*/
/*			-							*/
/*  Return   :         	-							*/
/*==============================================================================*/
void create_step_map(void)
{	
	init_step_map();
	
	step_map[0][0] = 10;
	step_map[0][1] = 9;
	step_map[0][2] = 8;
	step_map[0][3] = 7;
	step_map[0][4] = 6;
	step_map[0][5] = 11;
	
	step_map[1][0] = 7;
	step_map[1][1] = 8;
	step_map[1][2] = 9;
	step_map[1][3] = 4;
	step_map[1][4] = 5;
	step_map[1][5] = 10;
	
	step_map[2][0] = 6;
	step_map[2][1] = 255;
	step_map[2][2] = 2;
	step_map[2][3] = 3;
	step_map[2][4] = 6;
	step_map[2][5] = 9;	
	
	step_map[3][0] = 5;
	step_map[3][1] = 0;
	step_map[3][2] = 1;
	step_map[3][3] = 6;
	step_map[3][4] = 7;
	step_map[3][5] = 8;
	
	step_map[4][0] = 4;
	step_map[4][1] = 1;
	step_map[4][2] = 4;
	step_map[4][3] = 5;
	step_map[4][4] = 8;
	step_map[4][5] = 7;
	
	step_map[5][0] = 3;
	step_map[5][1] = 2;
	step_map[5][2] = 3;
	step_map[5][3] = 4;
	step_map[5][4] = 5;
	step_map[5][5] = 6;
	
	return;
}

/*==============================================================================*/
/* 歩数マップの初期化			                                        */
/* 										*/
/* 歩数マップを初期化する。全体を0xff、引数の座標X,Yは0で初期化する		*/
/* ---------------------------------------------------------------------------- */
/*  Arguments:		-						       	*/
/*  Return   :         	-							*/
/*==============================================================================*/
void init_step_map(void)
{
	int x_cnt;		// X座標カウンター
	int y_cnt;		// Y座標カウンター
	
	/* 迷路の大きさ分ループ(X座標,Y座標) */
	for(x_cnt = 0; x_cnt < MAZESIZE_X; x_cnt++)				
	{
		for(y_cnt = 0; y_cnt < MAZESIZE_Y; y_cnt++)
		{
			step_map[x_cnt][y_cnt] = UNDEFINED;	// すべて255で埋める(0xff)
		}
	}
	
	/* ゴール座標の歩数を0に設定 */
	step_map[goal_x][goal_y] = 0;
	
	return;
}