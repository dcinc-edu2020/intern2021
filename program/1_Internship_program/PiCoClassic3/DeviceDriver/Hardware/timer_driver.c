/*==============================================================================*/
/* Timer Driver C File                                                          */
/*==============================================================================*/

/*------------------------------------------------------------------------------*/
/* Include Files                                                                */
/*------------------------------------------------------------------------------*/
#include "DeviceDriver/Core/iodefine.h"
#include "DeviceDriver/Hardware/battery_driver.h"
#include "DeviceDriver/Hardware/timer_driver.h"

/*------------------------------------------------------------------------------*/
/* Global Variable                                                              */
/*------------------------------------------------------------------------------*/
volatile unsigned int timer;    // プログラム本体内のタイマー

/*------------------------------------------------------------------------------*/
/* Function Definitions                                                         */
/*------------------------------------------------------------------------------*/

/*==============================================================================*/
/*  1msタイマー用割り込み(CMT2)                                                 */
/*                                                                              */
/* ---------------------------------------------------------------------------- */
/*  Arguments:          -                                                       */
/*  Return   :          -                                                       */
/*==============================================================================*/
void int_periodic_timer(void)
{
	timer++;				// 1mSごとにカウントアップ
	save_battery(get_battery_volt());	// バッテリ監視

	return;
}
